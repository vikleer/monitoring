<p-toast></p-toast>

<video id="video" autoplay muted loop>
  <source
    src="https://uvirtual.ucp.edu.co/static/media/U--Virtual.36642e0fe9e4d5f356dd.webm"
    type="video/webm"
  />
  Tu navegador no soporta el formato de video.
</video>
<p-card header="Registrate" class="flex justify-content-center flex-wrap my-3">
  <form
    [formGroup]="registerForm"
    (ngSubmit)="register()"
    class="flex flex-column gap-2"
  >
    <!-- Email -->
    <div class="flex flex-column gap-2 w-full">
      <label for="email">Correo electrónico</label>
      <input
        pInputText
        id="email"
        styleClass="w-full"
        formControlName="email"
      />
    </div>
    <!-- Email -->
    <!-- Password -->
    <div class="flex flex-column gap-2 w-full">
      <label for="password">Contraseña</label>
      <input
        pInputText
        type="password"
        id="password"
        styleClass="w-full"
        formControlName="password"
      />
      @if (registerForm.controls.password.hasError("minlength")) {
        <p class="text-red-600">La contraseña debe tener mínimo 6 carácteres</p>
      }
      @else if(registerForm.controls['password'].hasError('pattern') && !registerForm.controls['password'].hasError('minlength')) {
        <p class="text-red-600">La contraseña debe contener al menos una letra y un número</p>
      }
    </div>
    <!-- Password -->
    <!-- Profile -->
    <div formGroupName="profile" class="flex flex-column gap-2">
      <!-- First name -->
      <div class="flex flex-column gap-2 w-full">
        <label for="firstName">Nombre</label>
        <input
          pInputText
          type="firstName"
          id="firstName"
          styleClass="w-full"
          formControlName="firstName"
        />
      </div>
      <!-- First name -->
      <!-- Last name -->
      <div class="flex flex-column gap-2 w-full">
        <label for="lastName">Apellido</label>
        <input
          pInputText
          type="lastName"
          id="lastName"
          styleClass="w-full"
          formControlName="lastName"
        />
      </div>
      <!-- Last name -->
      <!-- Age -->
      <div class="flex flex-column gap-2 w-full">
        <label for="age">Edad</label>
        <p-inputNumber
          id="age"
          inputId="integeronly"
          styleClass="w-full"
          formControlName="age"
        ></p-inputNumber>
      </div>
      <!-- Age -->
      <!-- Gender -->
      <div class="flex flex-column flex-1 gap-2">
        <label for="gender">Género</label>
        <p-dropdown
          id="gender"
          optionLabel="name"
          placeholder="Selecciona tu género"
          formControlName="gender"
          [showClear]="true"
          [options]="genders"
          styleClass="w-full"
        ></p-dropdown>
      </div>
      <!-- Gender -->
      <!-- About me -->
      <div class="flex flex-column flex-1 gap-2">
        <label for="startTime">Sobre ti</label>
        <textarea
          rows="5"
          cols="30"
          pInputTextarea
          formControlName="overview"
        ></textarea>
      </div>
      <!-- About me -->
      <!-- Degree -->
      <div class="flex flex-column flex-1 gap-2">
        <label for="degreed">Carrera</label>
        <p-dropdown
          id="degree"
          optionLabel="name"
          placeholder="Selecciona tu carrera"
          formControlName="degree"
          [showClear]="true"
          [options]="degress"
          styleClass="w-full"
        ></p-dropdown>
      </div>
      <!-- Degree -->
    </div>
    <!-- Profile -->
    <p-button
      type="submit"
      [disabled]="registerForm.invalid"
      label="Registrate"
      class="mt-3"
      styleClass="w-full"
    ></p-button>
  </form>
  <ng-template pTemplate="footer">
    <p class="text-center">
      <span>¿Ya tienes una cuenta?</span>
      <a routerLink="/login" class="no-underline"> Inicia sesión</a>
    </p>
  </ng-template>
</p-card>
